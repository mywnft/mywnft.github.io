(this["webpackJsonpmy-world"]=this["webpackJsonpmy-world"]||[]).push([[0],{195:function(e,t,n){},196:function(e,t,n){},342:function(e,t){},344:function(e,t){},355:function(e,t,n){},356:function(e,t,n){},375:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},394:function(e,t,n){},399:function(e,t,n){},411:function(e,t){},489:function(e,t){},491:function(e,t){},523:function(e,t){},524:function(e,t){},529:function(e,t){},531:function(e,t){},538:function(e,t){},557:function(e,t){},575:function(e,t){},589:function(e,t){},591:function(e,t){},625:function(e,t){},626:function(e,t){},647:function(e,t){},649:function(e,t){},732:function(e,t,n){},733:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(320),a=n.n(i),s=n(21);Object(s.b)({"accessNode.api":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ACCESS_NODE,"discovery.wallet":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WALLET_DISCOVERY,"0xFungibleTokenContract":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FT_CONTRACT,"0xNonFungibleTokenContract":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_NFT_CONTRACT,"0xFUSDContract":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FUSD_CONTRACT,"0xMyWContract":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MYW_CONTRACT,"0xMyWArtContract":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MYWART_CONTRACT,"0xMyWMarketContract":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MYWMARKET_CONTRACT});n(355),n(356);var o=n(22),l=n(24),u=n(15),j=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),r=n[0],i=n[1];return{value:r,setValue:i,reset:function(){return i("")},bind:{value:r,onChange:function(e){i(e.target.value)}}}},d=n(7),b=n.n(d),O=n(23),_=n(9),m=n(11),h=n(323),p=n.n(h),f=n(324),v=n.n(f),x=p.a.create({baseURL:"http://very:5000/api/v1",headers:{"Content-type":"application/json"}}),S=(new v.a).compile({name:{type:"string",min:3,max:255},price:{type:"number",positive:!0,integer:!1},description:{type:"string",min:3,max:255},uri:{type:"url",messages:{required:"An artwork must be uploaded",url:"Url is not in correct format"}}}),T=(new(function(){function e(){Object(_.a)(this,e)}return Object(m.a)(e,[{key:"getAll",value:function(){return x.get("gallery/")}},{key:"get",value:function(e){return x.get("gallery/".concat(e))}},{key:"create",value:function(e){return x.post("gallery/",e)}},{key:"delete",value:function(e){return x.delete("gallery/".concat(e))}}]),e}()),n(81),n(375),n(0));n(377);var C=n(332),E=n(124),g=new C.a({supportedChainIds:[56,97]}),N=r.a.createContext(null),y=function(e){var t=e.children,n=Object(E.b)(),r=n.activate,i=n.account,a=(n.library,n.connector,n.active),s=n.deactivate,l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],_=Object(c.useState)(!1),m=Object(o.a)(_,2),h=m[0],p=m[1],f=Object(c.useState)(!0),v=Object(o.a)(f,2),x=v[0],S=v[1];Object(c.useEffect)((function(){y().then((function(e){S(!1)}))}),[]);var C=Object(c.useCallback)((function(){console.log("App is connected with MetaMask ",a),d(a)}),[a]);Object(c.useEffect)((function(){C()}),[C]);var y=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Connecting to MetaMask..."),p(!0),e.prev=2,e.next=5,r(g).then((function(){p(!1)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Error on connecting: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Disconnecting wallet from App..."),e.prev=1,e.next=4,s();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error on disconnnect: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),P=Object(c.useMemo)((function(){return{isActive:j,account:i,isLoading:x,connect:y,disconnect:A,shouldDisable:h}}),[j,x,h,i]);return Object(T.jsx)(N.Provider,{value:P,children:t})};function A(){var e=r.a.useContext(N);if(void 0===e)throw new Error("useMetaMask hook must be used with a MetaMaskProvider component");return e}var P=Object(c.createContext)();var R=function(){return Object(c.useContext)(P)},D=Object(c.createContext)();var F=function(){return Object(c.useContext)(D)};n(195);function W(e){var t=e.myart,n=e.store,r=F(),i=r.useMyarts,a=r.putForSale,s=t.id,l=t.name,d=t.price,b=t.uri,O=R().user,_=i.some((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})),m=j(d.slice(0,-6)),h=m.value,p=m.bind,f=(m.reset,j("Anonymous")),v=f.value,x=f.bind,S=(f.reset,Object(c.useState)(!1)),C=Object(o.a)(S,2),E=C[0],g=C[1];return Object(T.jsxs)("div",{className:"myart-card__border",children:[Object(T.jsxs)("div",{className:"myart-card__wrapper ".concat(_&&n&&"faded"),children:[Object(T.jsx)("img",{className:"myart-card__image img-large",src:b,alt:"Art"}),Object(T.jsx)("br",{}),Object(T.jsx)("h3",{className:"myart-cart__title",children:l}),Object(T.jsxs)("p",{className:"myart-card__info",children:["# ",s]})]}),Object(T.jsxs)("div",{className:"btn btn-bordered btn-light",children:[Object(T.jsxs)("div",{onClick:function(){g(!E)},children:[Object(T.jsx)("i",{className:"ri-price-tag-3-fill btn-icon"})," ",parseInt(d)," MyW"]}),E&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"myart__form__item ",children:[Object(T.jsx)("label",{children:"Price"}),Object(T.jsx)("input",Object(u.a)({type:"number",step:".01"},p))]}),Object(T.jsxs)("div",{className:"myart__form__item ",children:[Object(T.jsx)("label",{children:"Artist Name (optional)"}),Object(T.jsx)("input",Object(u.a)({type:"text"},x))]}),Object(T.jsx)("div",{className:"btn upload__btn btn-bg rounded",onClick:function(){return t.want_price=h,t.seller_name=v,t.seller_address=O.addr,void a(t)},children:"Put for sale"})]})]}),Object(T.jsx)("div",{className:"collected",children:"Collected"})]})}n(196),n(378);var k=n(326),H=n(328);function w(){var e=F(),t=e.mintMyWArt,n=e.queryMyWArtMintFee,r=j(""),i=r.value,a=r.bind,s=r.reset,l=j(""),d=l.value,_=l.bind,m=l.reset,h=j(""),p=h.value,f=h.bind,v=h.reset,x=Object(c.useState)(null),C=Object(o.a)(x,2),E=C[0],g=C[1],N=Object(c.useState)(null),y=Object(o.a)(N,2),A=y[0],P=y[1],R={endpoint:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_END_POINT,token:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_API_KEY,ipfspath:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_PATH,setIpfsUri:function(e){return g(e)}};Object(H.useEffect)((function(){Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=P,e.next=3,n();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var D=function(){var e=Object(O.a)(b.a.mark((function e(n){var c,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),{name:i,price:d,uri:E,description:p},!0!==(r=S(c={name:"Test",price:100,uri:"https://ipfs.io/ipfs/bafkreih6qup2zmio7nf4anbwrthztahg7rb7rb7mghw4iyg6nkg32gpn3e",description:"Only for testing"}))){e.next=10;break}if(!confirm("Minting myart: "+"\n    name: ".concat(c.name,",")+"\n    price: ".concat(c.price,",")+"\n    uri: ".concat(c.uri,",")+"\n    description: ".concat(c.description)+"\nProceed?")){e.next=8;break}return e.next=8,t(c);case 8:e.next=14;break;case 10:a="Error:",console.log(r),r.forEach((function(e){a="".concat(a,"\n").concat(e.message)})),alert(a);case 14:s(),m(),v();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"myart__form__border",children:[Object(T.jsx)("div",{className:"myart-cart__title",children:"Mint Your Art"}),Object(T.jsxs)("form",{className:"myart__form",children:[Object(T.jsx)(k.LazyIpfsImage,Object(u.a)({},R)),Object(T.jsxs)("div",{className:"myart__form__item ",children:[Object(T.jsx)("label",{children:"Name"}),Object(T.jsx)("input",Object(u.a)({type:"text"},a))]}),Object(T.jsxs)("div",{className:"myart__form__item ",children:[Object(T.jsx)("label",{children:"Price"}),Object(T.jsx)("input",Object(u.a)({type:"number",step:".01"},_))]}),Object(T.jsxs)("div",{className:"myart__form__item ",children:[Object(T.jsx)("label",{children:"Description"}),Object(T.jsx)("input",Object(u.a)({type:"text"},f))]}),Object(T.jsx)("div",{className:"btn upload__btn btn-bg rounded",onClick:D,children:"3. Submit"}),Object(T.jsxs)("div",{children:["* Mint Fee: ",A?A.slice(0,-6):null]})]})]})})}function K(e){var t=e.myarts;return Object(T.jsxs)("div",{className:"myart-list__wrapper",children:[t.map((function(e,t){return Object(T.jsx)(W,{myart:e},t)})),Object(T.jsx)(w,{})]})}function M(e){var t=e.title,n=e.subtitle;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("img",{src:"".concat("","/assets/MyWorld.png"),width:"200px",alt:"MyWorld"}),Object(T.jsx)("h1",{className:"app__title",children:t}),Object(T.jsx)("h3",{className:"app__subtitle",children:n})]})}function L(e){var t=e.myWArt,n=F(),c=n.useMyarts,r=n.purchaseMyWArt,i=t.id,a=t.name,s=t.want_price,o=t.uri,l=t.description,u=t.seller_address,j=t.seller_name,d=c.some((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})),b=function(){return Object(T.jsxs)("div",{onClick:function(){return r(t)},className:"btn btn-bordered btn-light",children:[Object(T.jsx)("i",{className:"ri-price-tag-3-fill btn-icon"})," ",parseInt(s)," FUSD"]})};return Object(T.jsxs)("div",{className:"myart-card__border",children:[Object(T.jsxs)("div",{className:"myart-card__wrapper ".concat(d&&"faded"),children:[Object(T.jsx)("img",{className:"myart-card__image img-large",src:o,alt:"Art"}),Object(T.jsx)("br",{}),Object(T.jsx)("h3",{className:"myart-cart__title",children:a}),Object(T.jsxs)("div",{className:"myart-card__info",children:["ID: # ",i]}),l&&Object(T.jsxs)("div",{className:"myart-card__info",children:["Description ",l]}),Object(T.jsxs)("div",{className:"myart-card__info",children:["Seller:",j&&Object(T.jsxs)("span",{children:[j," @ "]}),u]}),Object(T.jsxs)("p",{className:"myart-card__info",children:["ID: # ",i]})]}),Object(T.jsx)(b,{})]})}function I(e){var t=e.saleItems;return Object(T.jsx)("div",{className:"myart-list__wrapper",children:t.map((function(e,t){return Object(T.jsx)(L,{myWArt:e},t)}))})}n(394);var U=[{name:"Home",path:"/",component:function(){var e=Object(l.f)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(M,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"highlight",children:"My"}),"World"]}),subtitle:Object(T.jsxs)(T.Fragment,{children:["An NFT gallery of ",Object(T.jsx)("span",{className:"highlight",children:"arts and music"})," for autism community"]})}),Object(T.jsx)("img",{className:"header-image",alt:"Header",onClick:function(){return e.push("/packs")},src:"".concat("","/assets/PinWheel.png")})]})},nav:!0},{name:"Gallery",path:"/gallery",component:function(){var e=F().saleItems;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(M,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"highlight",children:"MyWorld "}),"Gallery"]}),subtitle:Object(T.jsxs)(T.Fragment,{children:["Browse ",Object(T.jsx)("span",{className:"highlight",children:"arts"})," in our gallery"]})}),Object(T.jsx)(I,{saleItems:e})]})},nav:!0},{name:"Collection",path:"/collection",component:function(){var e=F(),t=e.collection,n=e.createCollection,c=e.deleteCollection,r=e.useMyarts;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(M,{title:Object(T.jsxs)(T.Fragment,{children:["MyWorld ",Object(T.jsx)("span",{className:"highlight",children:"Collection"})]}),subtitle:Object(T.jsxs)(T.Fragment,{children:["Here are your ",Object(T.jsx)("span",{className:"highlight",children:"Arts"})," collection"]})}),t?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(K,{myarts:r}),Object(T.jsx)("div",{className:"btn btn-bg rounded",onClick:function(){return c()},children:"Delete Collection"})]}):Object(T.jsx)("div",{className:"btn btn-bg rounded",onClick:function(){return n()},children:"Enable Collection"})]})},nav:!0},{name:"Artists",path:"/artists",component:function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(M,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"highlight",children:"Artists"})," Profile"]}),subtitle:Object(T.jsxs)(T.Fragment,{children:["Our lens ",Object(T.jsx)("span",{className:"highlight",children:"through"})," life"]})})})},nav:!0}],B=U.filter((function(e){return e.nav}));n(399);function V(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(l.f)(),a=function(e){var t=e.route;return Object(T.jsx)("div",{className:"navbar__item",children:Object(T.jsx)("div",{className:"btn",onClick:function(){return i.push(t.path)},children:t.name})})};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"navbar",children:B.map((function(e){return Object(T.jsx)(a,{route:e},e.path)}))}),Object(T.jsx)("div",{className:"btn btn-bg navbar__mobile__trigger mobile_only",onClick:function(){return r((function(e){return!e}))},children:"Menu"}),n&&Object(T.jsx)("div",{className:"navbar__mobile",children:B.map((function(e){return Object(T.jsx)(a,{route:e},e.path)}))})]})}var Y=n(97),q=n(330),z=n.n(q);function G(e,t){return new z.a(e)}function J(e){var t=e.children;return Object(T.jsx)(Y.a,{children:Object(T.jsx)(E.a,{getLibrary:G,children:Object(T.jsx)(y,{children:Object(T.jsx)("div",{className:"app",children:t})})})})}function Q(){return Object(T.jsx)("div",{children:"Not found"})}function X(e){var t=e.routes.map((function(e){var t=e.path,n=e.component;return Object(T.jsx)(l.a,{path:t,component:n,exact:!0},t)}));return Object(T.jsxs)(l.c,{children:[t,Object(T.jsx)(l.a,{component:Q})]})}n(732);function Z(){var e=A(),t=e.connect,n=e.disconnect,c=e.isActive,r=e.account;e.shouldDisable;return Object(T.jsx)("div",{className:"wallet__popup",children:c?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"wallet__item",children:["\ud83d\udc5b ",r]}),Object(T.jsx)("div",{className:"btn btn-small",onClick:function(){return n()},children:"\ud83d\udc4b Logout"})]}):Object(T.jsx)("div",{className:"btn btn-small",onClick:function(){return t()},children:"\ud83d\udc4b Login"})})}function $(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(J,{children:[Object(T.jsx)(Z,{}),Object(T.jsx)(V,{}),Object(T.jsx)(X,{routes:U})]})})}a.a.render(Object(T.jsx)($,{}),document.getElementById("root"))}},[[733,1,2]]]);
//# sourceMappingURL=main.44919b48.chunk.js.map